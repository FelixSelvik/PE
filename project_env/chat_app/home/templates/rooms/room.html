<!-- chat/templates/chat/room.html -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Chat Room</title>
    <link rel="stylesheet" type="text/css" href="../../static/room.css">
    <link rel="icon" type="image/ico" href="../../static/images/favicon.ico">
    <script type="text/javascript" src="../../static/js/keyGenerator.js" defer></script>
</head>

<body>
    {% if request.user.is_authenticated %}
    <div id="background">
        <nav class="navbar">
            <a href="http://127.0.0.1:8000/choices/" class="logo">
              <img src="../../static/images/logo.png" alt="logo" class="icon">
            </a>
            <ul class="nav-links">
              <li class="link-style" id="nav1"><a href="https://github.com/FelixSelvik/PE">Github</a></li>
              <li class="link-style" id="nav2"><a href="{% url 'contact' %}">Contact</a></li>
              <div class="dropdown-div">
                <button class="drop-button">Rooms</button>
                <div class="dropdown-items">
                  <a href="http://127.0.0.1:8000/home/room#Sports" class="rooms" id="Sports">Sports</a>
                  <a href="http://127.0.0.1:8000/home/room#Music" class="rooms" id="Music">Music</a>
                  <a href="http://127.0.0.1:8000/home/room#Reading" class="rooms" id="Reading">Reading</a>
                  <a href="http://127.0.0.1:8000/home/room#History" class="rooms" id="History">History</a>
                  <a href="http://127.0.0.1:8000/home/room#Gaming" class="rooms" id="Gaming">Gaming</a>
                  <a href="http://127.0.0.1:8000/home/room#Cooking" class="rooms" id="Cooking">Cooking</a>
                </div>
      
              </div>
      
              <li class="username" id="nav3"><a href="">{{ user.username }}</a></li>
              <li class="link-style" id="nav4"><a href="{% url 'logout' %}">Log out</a></li>
            </ul>
          </nav>
    </div>
    
    <div class="mainblock">

        <div class="welcome">
            <p id="room-name">Name of the room</p>
        </div>

        <div class="messagebox" id="messagebox">
            <div id="messages">
                <p class=welcome2>Welcome, {{ user.username }}</p>
            </div>
        </div>

        <input id="chat-message-input" type="text" size="100" placeholder="Type here your message">
        <input id="chat-message-submit" type="button" value="Send" class="button">

        <script type="text/javascript">
            const userName = '{{ user.username }}';
            var chatname = '';
            document.title = window.location.hash.replace('#', '');
            chatname = document.title;
            const roomNameElement = document.getElementById('room-name');
            roomNameElement.textContent = chatname;
        </script>

    </div>
    {% else %}
    <script>
        window.location.href = "http://127.0.0.1:8000/home";
    </script>
    {% endif %}

    <footer>
        <p>Copyright &copy; <a href="https://www.thomasmore.be/">Thomas More Mechelen-Antwerp vzw</a> - Campus De Nayer
            - Professional bachelor
            electronics-ict -
            2023.
        </p>
    </footer>

</body>

</html>